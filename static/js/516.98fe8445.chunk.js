"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[516],{623:function(e,n,t){function r(e,n,t,r,c,i,a){try{var o=e[i](a),u=o.value}catch(s){return void t(s)}o.done?n(u):Promise.resolve(u).then(r,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,i){var a=e.apply(n,t);function o(e){r(a,c,i,o,u,"next",e)}function u(e){r(a,c,i,o,u,"throw",e)}o(void 0)}))}}t.d(n,{FH:function(){return o},ZP:function(){return m},Jy:function(){return u},dt:function(){return s}});var i=t(757),a=t.n(i),o="https://api.themoviedb.org",u="bc8e4f8ef35238fae81789cd185c5d63",s="week";function f(){return f=c(a().mark((function e(n,t,r){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/3/trending/movie/").concat(r,"?api_key=").concat(t));case 2:if(!(c=e.sent).ok){e.next=5;break}return e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(){return p=c(a().mark((function e(n,t,r){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/3/search/movie?api_key=").concat(t,"&language=en-US&query=").concat(r,"&page=1&include_adult=false"));case 2:if(!(c=e.sent).ok){e.next=5;break}return e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function h(){return h=c(a().mark((function e(n,t,r){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/3/movie/").concat(t,"?api_key=").concat(r,"&language=en-US"));case 2:if(!(c=e.sent).ok){e.next=5;break}return e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function l(){return l=c(a().mark((function e(n,t,r){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/3/movie/").concat(r,"/credits?api_key=").concat(t,"&language=en-US"));case 2:if(!(c=e.sent).ok){e.next=5;break}return e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function v(){return v=c(a().mark((function e(n,t,r){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/3/movie/").concat(r,"/reviews?api_key=").concat(t,"&language=en-US&page=1"));case 2:if(!(c=e.sent).ok){e.next=5;break}return e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var d={FetchTrending:function(e,n,t){return f.apply(this,arguments)},FetchSearchMovies:function(e,n,t){return p.apply(this,arguments)},FetchMovieDetails:function(e,n,t){return h.apply(this,arguments)},FetchCredits:function(e,n,t){return l.apply(this,arguments)},FetchReviews:function(e,n,t){return v.apply(this,arguments)}},m=d},516:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(433),c=t(439),i=t(791),a=t(576),o=t(14),u=t(184),s=function(e){var n=e.onSubmit,t=(0,i.useState)(""),r=(0,c.Z)(t,2),a=r[0],s=r[1];return(0,u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim())return(0,o.ZP)("Please enter Movie Title here"),void s("");n(a),s("")},children:[(0,u.jsx)("label",{children:(0,u.jsx)("input",{name:"q",onChange:function(e){s(e.currentTarget.value.toLowerCase())}})}),(0,u.jsx)("button",{type:"submit",children:"Search movies"})]})},f=t(623),p=function(){var e=(0,i.useState)([]),n=(0,c.Z)(e,2),t=n[0],p=n[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s,{onSubmit:function(e){f.ZP.FetchSearchMovies(f.FH,f.Jy,e).then((function(e){if(0===e.results.length)o.ZP.error("Sorry,we did not find...");else{var n=[];e.results.map((function(e){return n.push({id:e.id,title:e.title})})),p.apply(void 0,(0,r.Z)(t).concat([n]))}})).catch((function(){o.ZP.error("Ups... Something is wrong.",{duration:4e3,position:"top-center"})}))}}),(0,u.jsx)(a.O,{movies:t})]})}},576:function(e,n,t){t.d(n,{O:function(){return a}});t(791);var r=t(87),c=t(184),i=function(e){var n=e.movie;return(0,c.jsx)(r.rU,{to:"/movies/".concat(n.id),children:n.title})},a=function(e){var n=e.movies;return(0,c.jsx)("ul",{children:n.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(i,{movie:e})},e.id)}))})}}}]);
//# sourceMappingURL=516.98fe8445.chunk.js.map